<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Advanced Validation | VeeValidate</title>
    <meta name="description" content="Input validation for Vue.js">
    <meta charset="utf-8">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/img/ms-icon-144x144.png">
  <meta name="theme-color" content="#41b883">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta property="og:image" content="https://s3.eu-central-1.amazonaws.com/logaretm/vee-validate.svg">
  <link rel="apple-touch-icon" sizes="57x57" href="/vee-validate/img/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/vee-validate/img/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/vee-validate/img/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/vee-validate/img/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/vee-validate/img/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/vee-validate/img/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/vee-validate/img/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/vee-validate/img/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/vee-validate/img/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/vee-validate/img/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/vee-validate/img/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/vee-validate/img/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/vee-validate/img/favicon-16x16.png">
    
    <link rel="preload" href="/vee-validate/assets/css/0.styles.28c99067.css" as="style"><link rel="preload" href="/vee-validate/assets/js/app.ec7a56fb.js" as="script"><link rel="preload" href="/vee-validate/assets/js/31.f7030153.js" as="script"><link rel="preload" href="/vee-validate/assets/js/20.a016b72e.js" as="script"><link rel="preload" href="/vee-validate/assets/js/29.60e2dd82.js" as="script"><link rel="prefetch" href="/vee-validate/assets/js/15.4aa91a18.js"><link rel="prefetch" href="/vee-validate/assets/js/2.cc1e3b21.js"><link rel="prefetch" href="/vee-validate/assets/js/3.d8c5785d.js"><link rel="prefetch" href="/vee-validate/assets/js/4.21a0ef0b.js"><link rel="prefetch" href="/vee-validate/assets/js/5.d6f1d3be.js"><link rel="prefetch" href="/vee-validate/assets/js/6.65880a5b.js"><link rel="prefetch" href="/vee-validate/assets/js/7.f08858b6.js"><link rel="prefetch" href="/vee-validate/assets/js/8.258acc73.js"><link rel="prefetch" href="/vee-validate/assets/js/9.491f22e0.js"><link rel="prefetch" href="/vee-validate/assets/js/10.6a9f1822.js"><link rel="prefetch" href="/vee-validate/assets/js/11.166d16cc.js"><link rel="prefetch" href="/vee-validate/assets/js/12.16e033fe.js"><link rel="prefetch" href="/vee-validate/assets/js/13.51e72912.js"><link rel="prefetch" href="/vee-validate/assets/js/14.7a11d302.js"><link rel="prefetch" href="/vee-validate/assets/js/16.7f76ca31.js"><link rel="prefetch" href="/vee-validate/assets/js/17.88efc7f1.js"><link rel="prefetch" href="/vee-validate/assets/js/18.a39bfe59.js"><link rel="prefetch" href="/vee-validate/assets/js/19.c7eba924.js"><link rel="prefetch" href="/vee-validate/assets/js/21.04eb2afb.js"><link rel="prefetch" href="/vee-validate/assets/js/22.2e25fc51.js"><link rel="prefetch" href="/vee-validate/assets/js/23.4c9335fb.js"><link rel="prefetch" href="/vee-validate/assets/js/24.2caae87a.js"><link rel="prefetch" href="/vee-validate/assets/js/25.180bcc5a.js"><link rel="prefetch" href="/vee-validate/assets/js/26.2af24115.js"><link rel="prefetch" href="/vee-validate/assets/js/27.e39d0e95.js"><link rel="prefetch" href="/vee-validate/assets/js/28.db2c8d5f.js"><link rel="prefetch" href="/vee-validate/assets/js/30.bb1f17c0.js">
    <link rel="stylesheet" href="/vee-validate/assets/css/0.styles.28c99067.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/vee-validate/" class="home-link router-link-active"><!----> <span class="site-name">VeeValidate</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/vee-validate/guide/" class="nav-link router-link-active">Guide</a></div><div class="nav-item"><a href="/vee-validate/configuration.html" class="nav-link">Config</a></div><div class="nav-item"><a href="/vee-validate/api/" class="nav-link">API</a></div><div class="nav-item"><a href="/vee-validate/examples/" class="nav-link">Examples</a></div><div class="nav-item"><a href="http://vee-validate.logaretm.com/v2" target="_blank" rel="noopener noreferrer" class="nav-link external">
  v2.x
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <a href="https://github.com/logaretm/vee-validate" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/vee-validate/guide/" class="nav-link router-link-active">Guide</a></div><div class="nav-item"><a href="/vee-validate/configuration.html" class="nav-link">Config</a></div><div class="nav-item"><a href="/vee-validate/api/" class="nav-link">API</a></div><div class="nav-item"><a href="/vee-validate/examples/" class="nav-link">Examples</a></div><div class="nav-item"><a href="http://vee-validate.logaretm.com/v2" target="_blank" rel="noopener noreferrer" class="nav-link external">
  v2.x
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <a href="https://github.com/logaretm/vee-validate" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Guide</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/vee-validate/guide/" class="sidebar-link">Introduction</a></li><li><a href="/vee-validate/guide/getting-started.html" class="sidebar-link">Getting Started</a></li><li><a href="/vee-validate/guide/basic-validation.html" class="sidebar-link">Validation</a></li><li><a href="/vee-validate/guide/applying-rules.html" class="sidebar-link">Using Validation</a></li><li><a href="/vee-validate/guide/displaying-errors.html" class="sidebar-link">Displaying Errors</a></li><li><a href="/vee-validate/guide/validation-provider.html" class="sidebar-link">Validation Provider</a></li><li><a href="/vee-validate/guide/validation-observer.html" class="sidebar-link">Validation Observer</a></li><li><a href="/vee-validate/guide/interaction-and-ux.html" class="sidebar-link">Interaction and UX</a></li><li><a href="/vee-validate/guide/styling.html" class="sidebar-link">Styling UI</a></li><li><a href="/vee-validate/guide/a11y.html" class="sidebar-link">Accessibility</a></li><li><a href="/vee-validate/guide/html5-validation.html" class="sidebar-link">HTML5 Validation</a></li><li><a href="/vee-validate/guide/advanced-validation.html" class="active sidebar-link">Advanced Validation</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vee-validate/guide/advanced-validation.html#cross-field-validation" class="sidebar-link">Cross-Field validation</a></li><li class="sidebar-sub-header"><a href="/vee-validate/guide/advanced-validation.html#required-rules" class="sidebar-link">Required Rules</a></li><li class="sidebar-sub-header"><a href="/vee-validate/guide/advanced-validation.html#lazy-rules" class="sidebar-link">Lazy Rules</a></li><li class="sidebar-sub-header"><a href="/vee-validate/guide/advanced-validation.html#params-types" class="sidebar-link">Params Types</a></li></ul></li><li><a href="/vee-validate/guide/localization.html" class="sidebar-link">Localization</a></li><li><a href="/vee-validate/guide/testing.html" class="sidebar-link">Testing</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="advanced-validation"><a href="#advanced-validation" aria-hidden="true" class="header-anchor">#</a> Advanced Validation</h1> <p>Previously you learned how to add validation rules to vee-validate, in this guide you will learn how to use the full API to create more powerful and complex rules.</p> <h2 id="cross-field-validation"><a href="#cross-field-validation" aria-hidden="true" class="header-anchor">#</a> Cross-Field validation</h2> <p>Some rules validity are dependent on other fields values, a rule like <code>confirmed</code> will need access to another field's value and compare it with the current one to be able to determine validity.</p> <p>Rules parameters can be marked as a <strong>field target</strong> by specifying a <code>isTarget</code> for that parameters. For example, this is how a basic password confirmation rule would look like:</p> <div class="language-js extra-class"><div class="highlight-lines"><br><br><br><br><br><div class="highlighted"> </div><br><br></div><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> extend <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vee-validate'</span><span class="token punctuation">;</span>

<span class="token function">extend</span><span class="token punctuation">(</span><span class="token string">'password'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  validate<span class="token punctuation">:</span> <span class="token punctuation">(</span>value<span class="token punctuation">,</span> <span class="token punctuation">{</span> other <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> value <span class="token operator">===</span> other<span class="token punctuation">,</span>
  message<span class="token punctuation">:</span> <span class="token string">'The password confirmation does not match.'</span><span class="token punctuation">,</span>
  params<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'other'</span><span class="token punctuation">,</span> isTarget<span class="token punctuation">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-vue extra-class"><div class="highlight-lines"><br><div class="highlighted"> </div><br><br><br><br><br><br><br><div class="highlighted"> </div><br><br><br><br><br><br><br><br><br></div><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ValidationObserver</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ValidationProvider</span>
    <span class="token attr-name">rules</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>required|password:confirmation<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name">v-slot</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>{ errors }<span class="token punctuation">&quot;</span></span>
  <span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>{{ errors[0] }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ValidationProvider</span><span class="token punctuation">&gt;</span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ValidationProvider</span>
    <span class="token attr-name">vid</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>confirmation<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name">rules</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>required<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name">v-slot</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>{ errors }<span class="token punctuation">&quot;</span></span>
  <span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>confirm<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>{{ errors[0] }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ValidationProvider</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ValidationObserver</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>You will notice in your validation function that the <code>other</code> parameter is not <code>'confirmation'</code> string, but rather the confirmation field value. When a parmeter is marked as <code>isTarget</code>, vee-validate replaces the parameter value with the target field value.</p> <p>Note that to make sure the providers can locate each other, they need to be wrapped by the same <code>ValidationObserver</code> component.</p> <p>Here is a working snippet of the last example:</p> <span><span rules="required|password:confirmation" class="StyledProvider"><input type="password" value=""> <span></span></span> <span vid="confirmation" rules="required" class="StyledProvider"><input type="password" value=""> <span></span></span></span> <h2 id="required-rules"><a href="#required-rules" aria-hidden="true" class="header-anchor">#</a> Required Rules</h2> <p>You will notice that the <code>required</code> rule is special. The default behavior in vee-validate is that when a field is <strong>not required</strong> and has an empty value it skips validation for that field.</p> <h3 id="empty-values"><a href="#empty-values" aria-hidden="true" class="header-anchor">#</a> Empty values</h3> <p>values that are considered <strong>empty</strong> are:</p> <ul><li>Empty Strings.</li> <li><code>null</code> or <code>undefined</code>.</li> <li>Empty arrays.</li></ul> <div class="warning custom-block"><p>Notice that <code>false</code> is missing from this list, as it is considered a valid non-empty value. For example radio button with a Yes/No choices is considered valid when user selects either of those options.</p></div> <h3 id="creating-required-like-rules"><a href="#creating-required-like-rules" aria-hidden="true" class="header-anchor">#</a> Creating required-like rules</h3> <p>When calling <code>extend</code> you need to set the <code>computesRequired</code> option on the extension options and the <code>validate</code> function should return an object with both <code>valid</code> and <code>required</code> booleans present.</p> <p>Consider this rule, the input will be required if the <code>test</code> param is equal to <code>'yes'</code>.</p> <div class="language-js extra-class"><div class="highlight-lines"><br><div class="highlighted"> </div><br><br><br><div class="highlighted"> </div><br><br><br><br><br><br><br><br><br></div><pre class="language-js"><code><span class="token function">extend</span><span class="token punctuation">(</span><span class="token string">'requiredIf'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  computesRequired<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  message<span class="token punctuation">:</span> <span class="token string">'This field is required.'</span><span class="token punctuation">,</span>
  params<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'test'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  validate<span class="token punctuation">:</span> <span class="token punctuation">(</span>value<span class="token punctuation">,</span> <span class="token punctuation">{</span> test <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> isEmpty <span class="token operator">=</span> <span class="token operator">!</span><span class="token operator">!</span><span class="token punctuation">(</span><span class="token operator">!</span>value <span class="token operator">||</span> value<span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> isRequired <span class="token operator">=</span> test <span class="token operator">===</span> <span class="token string">'yes'</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      valid<span class="token punctuation">:</span> <span class="token operator">!</span>isRequired <span class="token operator">?</span> <span class="token boolean">true</span> <span class="token punctuation">:</span> <span class="token operator">!</span>isEmpty<span class="token punctuation">,</span>
      required<span class="token punctuation">:</span> isRequired
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>Test Value: {{ test }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>toggle<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Toggle<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ValidationProvider</span> <span class="token attr-name">rules</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>requiredIf<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-slot</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>{ errors }<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>value<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>error<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{ errors[0] }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ValidationProvider</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  data<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
    values<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    test<span class="token punctuation">:</span> <span class="token string">'yes'</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  methods<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token function">toggle</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>test <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>test <span class="token operator">===</span> <span class="token string">'yes'</span> <span class="token operator">?</span> <span class="token string">'no'</span> <span class="token punctuation">:</span> <span class="token string">'yes'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div><span>Test Value: yes</span> <button>Toggle</button> <span rules="[object Object]" class="StyledProvider"><input type="text"> <span id="error"></span></span></div> <div class="tip custom-block"><p>You can combine this with <code>isTarget</code> to create rules coupled with with cross-field validation. Check the <code>required_if</code> rule implementation.</p></div> <h2 id="lazy-rules"><a href="#lazy-rules" aria-hidden="true" class="header-anchor">#</a> Lazy Rules</h2> <p>By default vee-validate sneaks a validation run initially to be able to set the <code>valid</code> and <code>invalid</code> flags. That very first validation run is invisible and does not generate any errors nor modify any flags but it might be unexpected in some cases.</p> <p>Assuming you have a rule that sends a request to an endpoint, you might want to prevent the initial validation from executing the rule. This can be done by setting <code>lazy</code> boolean to <code>false</code> when extending the rule.</p> <div class="language-js extra-class"><div class="highlight-lines"><br><div class="highlighted"> </div><br><br><br><br><br></div><pre class="language-js"><code><span class="token function">extend</span><span class="token punctuation">(</span><span class="token string">'lazyRule'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  lazy<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  validate<span class="token punctuation">:</span> <span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// Some stuff.</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>This rule will only be executed when the input is interacted with by the user or when the provide/observer <code>validate</code> methods are triggered explicitly.</p> <h2 id="params-types"><a href="#params-types" aria-hidden="true" class="header-anchor">#</a> Params Types</h2> <p>Because vee-validate allows both a <code>string</code> or an <code>object</code> expressions to define rules, your params won't have a consistent type which may cause a problem. Consider this example where we want to define an <code>isAfter</code> rule to compare two dates:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">extend</span><span class="token punctuation">(</span><span class="token string">'isAfter'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  validate<span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token function">isAfter</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> <span class="token punctuation">{</span> compare <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> value<span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> compare<span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  params<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'compare'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  message<span class="token punctuation">:</span> <span class="token string">'The provided date must be after {compare}'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Except in runtime you probably won't get actual <code>Date</code> instances unless you use a custom component that emits a <code>Date</code> value. Otherwise you will either get a <code>number</code> or a <code>string</code> depending on the input implementation.</p> <p>A quick fix would look like this:</p> <div class="language-js extra-class"><div class="highlight-lines"><br><br><div class="highlighted"> </div><div class="highlighted"> </div><br><br><br><br><br><br><br></div><pre class="language-js"><code><span class="token function">extend</span><span class="token punctuation">(</span><span class="token string">'isAfter'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  validate<span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token function">isAfter</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> <span class="token punctuation">{</span> compare <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> rhs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> lhs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>compare<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> rhs<span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> lhs<span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  params<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'compare'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  message<span class="token punctuation">:</span> <span class="token string">'The provided date must be after {compare}'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>This would work fine for most cases but in complex rules, this starts to break down really fast as you must keep casting the param types before using them, and that example would work if the inputs values are timestamps, we didn't handle strings.</p> <p>Params can have a slightly richer schema to allow you to convert types before passing them to your <code>validate</code> function, instead of defining an array of param names, we define an array of objects:</p> <div class="language-js extra-class"><div class="highlight-lines"><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><div class="highlighted"> </div><br><br><br><div class="highlighted"> </div><br><br><br><br><br></div><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">toDate</span> <span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// handle timestamps</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> value <span class="token operator">===</span> <span class="token string">'number'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// Handle date values</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>value <span class="token keyword">instanceof</span> <span class="token class-name">Date</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> value<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// handle strings, use any date parsing library</span>
  <span class="token comment">// like: dayjs, date-fns, moment</span>
  <span class="token keyword">return</span> <span class="token function">parse</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">extend</span><span class="token punctuation">(</span><span class="token string">'isAfter'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  validate<span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token function">isAfter</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> <span class="token punctuation">{</span> compare <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> value<span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> compare<span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  castValue<span class="token punctuation">:</span> toDate<span class="token punctuation">,</span> <span class="token comment">// casts the value</span>
  params<span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      name<span class="token punctuation">:</span> <span class="token string">'compare'</span><span class="token punctuation">,</span> <span class="token comment">// don't forget to provide a name</span>
      cast<span class="token punctuation">:</span> toDate <span class="token comment">// casts the param value</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  message<span class="token punctuation">:</span> <span class="token string">'The provided date must be after {compare}'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Notice the usage of <code>castValue</code> and <code>cast</code> properties that allows your <code>validate</code> function to always get the correct types before validating them.</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/logaretm/vee-validate/edit/master/docs/guide/advanced-validation.md" target="_blank" rel="noopener noreferrer">Help us improve this page!</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/vee-validate/guide/html5-validation.html" class="prev">
          HTML5 Validation
        </a></span> <span class="next"><a href="/vee-validate/guide/localization.html">
          Localization
        </a>
        →
      </span></p></div> </main></div><div class="global-ui"><SWUpdatePopup></SWUpdatePopup></div></div>
    <script src="/vee-validate/assets/js/31.f7030153.js" defer></script><script src="/vee-validate/assets/js/20.a016b72e.js" defer></script><script src="/vee-validate/assets/js/29.60e2dd82.js" defer></script><script src="/vee-validate/assets/js/app.ec7a56fb.js" defer></script>
  </body>
</html>
